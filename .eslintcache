[{"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\index.js":"1","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\App.js":"2","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\reportWebVitals.js":"3","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Sidebar.js":"4","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Chat.js":"5","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\SidebarChat.js":"6","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\features\\counter\\userSlice.js":"7","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\app\\store.js":"8","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Login.js":"9","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\firebase.js":"10","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\features\\counter\\chatSlice.js":"11","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Message.js":"12"},{"size":340,"mtime":1607419250835,"results":"13","hashOfConfig":"14"},{"size":914,"mtime":1607439687984,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1607290158450,"results":"16","hashOfConfig":"17"},{"size":2251,"mtime":1607513713961,"results":"18","hashOfConfig":"14"},{"size":2951,"mtime":1607514032830,"results":"19","hashOfConfig":"14"},{"size":1320,"mtime":1607513934899,"results":"20","hashOfConfig":"14"},{"size":462,"mtime":1607438676495,"results":"21","hashOfConfig":"14"},{"size":275,"mtime":1607426707894,"results":"22","hashOfConfig":"14"},{"size":635,"mtime":1607420575375,"results":"23","hashOfConfig":"14"},{"size":614,"mtime":1607516452615,"results":"24","hashOfConfig":"14"},{"size":546,"mtime":1607438815134,"results":"25","hashOfConfig":"14"},{"size":691,"mtime":1607511562485,"results":"26","hashOfConfig":"14"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"k3wnfc",{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"29"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"1ab0g51",{"filePath":"36","messages":"37","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"29"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"29"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\index.js",[],["56","57"],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\App.js",["58"],"import './App.css';\nimport Chat from './Chat';\nimport Sidebar from './Sidebar';\nimport {useSelector, useDispatch} from 'react-redux'\nimport { selectUser, login, logout } from './features/counter/userSlice';\nimport Login from './Login';\nimport React, {useEffect} from 'react'\nimport { auth } from './firebase';\n\nfunction App() {\n\n  const user = useSelector(selectUser)\n  const dispatch = useDispatch()\n  \n  useEffect(() => {\n    auth.onAuthStateChanged(authUser => {\n      if(authUser){\n        dispatch(login({\n          uid: authUser.uid,\n          photo: authUser.photoURL,\n          email: authUser.email,\n          displayName: authUser.displayName\n        }))\n      } else {\n        dispatch(logout());\n      }\n    })\n  }, [])\n\n  return (\n    <div className=\"app\">\n      {user ? <div className=\"app__body\">\n        <Sidebar />\n        <Chat />\n      </div> : <Login />}\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\reportWebVitals.js",[],["59","60"],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Sidebar.js",["61","62","63","64"],"import React, {useState, useEffect} from 'react'\r\nimport \"./Sidebar.css\"\r\nimport ForumIcon from '@material-ui/icons/Forum';\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport AddCircleTwoToneIcon from '@material-ui/icons/AddCircleTwoTone';\r\nimport { Avatar, IconButton } from '@material-ui/core'\r\nimport { SearchOutlined } from '@material-ui/icons';\r\nimport SidebarChat from './SidebarChat';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectUser } from './features/counter/userSlice';\r\nimport db, { auth } from './firebase'\r\nimport { animateScroll } from 'react-scroll';\r\n\r\nfunction Sidebar() {\r\n    const user = useSelector(selectUser);\r\n    const [chats, setChats] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        db.collection(\"chats\").onSnapshot(snapshot =>{\r\n            setChats(\r\n                snapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    data: doc.data(),\r\n                })\r\n            ))\r\n        })\r\n    }, [])\r\n\r\n    const addChat = () => {\r\n        const chatName = prompt('Enter a chat name');\r\n        if (chatName) {\r\n            db.collection(\"chats\").add({\r\n                chatName: chatName\r\n            })\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebar__header\">\r\n                <Avatar onClick={() => auth.signOut()} src={user.photo} className=\"sidebar__header-avatar\"/>\r\n                <div className=\"sidebar__headerRight\">\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar__search\">\r\n                <div className=\"sidebar__searchContainer\">\r\n                    <SearchOutlined />\r\n                    <input type=\"text\" placeholder=\"Поиск\"/>\r\n                </div>\r\n                <IconButton>\r\n                    <AddCircleTwoToneIcon onClick={addChat}/>\r\n                </IconButton>\r\n            </div>\r\n            <div className=\"sidebar__chats\">\r\n                {chats.map(({ id, data: { chatName }}) => (\r\n                    <SidebarChat key={id} id={id} chatName={chatName}/>\r\n                    ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Chat.js",["65","66","67","68","69","70","71","72","73"],"import { Avatar, IconButton } from '@material-ui/core'\r\nimport {AttachFile, MoreVert, SearchOutlined} from '@material-ui/icons'\r\nimport React, { useEffect, useState } from 'react'\r\nimport ReactDOM from 'react-dom';\r\nimport Message from './Message.js'\r\nimport \"./Chat.css\"\r\nimport { useSelector} from 'react-redux'\r\nimport { selectChatId, selectChatName } from './features/counter/chatSlice'\r\nimport db from './firebase'\r\nimport firebase from 'firebase'\r\nimport { selectUser } from './features/counter/userSlice'\r\nimport FlipMove from 'react-flip-move'\r\nimport moduleName from 'module'\r\nimport { animateScroll } from \"react-scroll\";\r\nimport { scrollToBottom } from 'react-scroll/modules/mixins/animate-scroll';\r\n\r\nfunction Chat() {\r\n\r\n    const user = useSelector(selectUser);\r\n    const [input, setInput] = useState(\"\");\r\n    const chatName = useSelector(selectChatName);\r\n    const chatId= useSelector(selectChatId)\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if(chatId) {\r\n            db.collection(\"chats\")\r\n                .doc(chatId)\r\n                .collection(\"messages\")\r\n                .orderBy(\"timestamp\", \"desc\")\r\n                .onSnapshot((snapshot) => \r\n                    setMessages(snapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    data: doc.data(),\r\n                }))\r\n            ))\r\n        }\r\n    }, [chatId])\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault();\r\n        db.collection(\"chats\").doc(chatId).collection(\"messages\").add({\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            message: input,\r\n            uid: user.uid,\r\n            photo: user.photo,\r\n            email: user.email,\r\n            displayName: user.displayName,\r\n        });\r\n        setInput(\"\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n            <div className=\"chat__header\">\r\n                <div className=\"chat__headerInfo\">\r\n                    <h2>{chatName}</h2>\r\n                </div>\r\n            </div>\r\n            <div id=\"messages\" className=\"chat__body\">\r\n            <script>element.scrollTop = element.scrollHeight</script>\r\n                <FlipMove>\r\n                <p className=\"chat__messages\">\r\n                    {messages.map(({ id, data }) =>(\r\n                        <Message key={id} contents={data} />\r\n                    ))}\r\n                </p>\r\n                </FlipMove>\r\n            </div>\r\n            <div className=\"chat__input\">\r\n                    <form>\r\n                        <input\r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        placeholder=\"Type something\"\r\n                        type=\"text\"/>\r\n                        <button onClick={sendMessage}>Send</button>\r\n                    </form>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","C:\\Users\\Vladislav\\Desktop\\messenger\\src\\SidebarChat.js",[],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\features\\counter\\userSlice.js",[],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\app\\store.js",[],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Login.js",[],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\firebase.js",[],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\features\\counter\\chatSlice.js",[],"C:\\Users\\Vladislav\\Desktop\\messenger\\src\\Message.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":28,"column":6,"nodeType":"80","endLine":28,"endColumn":8,"suggestions":"81"},{"ruleId":"74","replacedBy":"82"},{"ruleId":"76","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":3,"column":8,"nodeType":"86","messageId":"87","endLine":3,"endColumn":17},{"ruleId":"84","severity":1,"message":"88","line":4,"column":8,"nodeType":"86","messageId":"87","endLine":4,"endColumn":22},{"ruleId":"84","severity":1,"message":"89","line":5,"column":8,"nodeType":"86","messageId":"87","endLine":5,"endColumn":21},{"ruleId":"84","severity":1,"message":"90","line":13,"column":10,"nodeType":"86","messageId":"87","endLine":13,"endColumn":23},{"ruleId":"84","severity":1,"message":"91","line":1,"column":10,"nodeType":"86","messageId":"87","endLine":1,"endColumn":16},{"ruleId":"84","severity":1,"message":"92","line":1,"column":18,"nodeType":"86","messageId":"87","endLine":1,"endColumn":28},{"ruleId":"84","severity":1,"message":"93","line":2,"column":9,"nodeType":"86","messageId":"87","endLine":2,"endColumn":19},{"ruleId":"84","severity":1,"message":"94","line":2,"column":21,"nodeType":"86","messageId":"87","endLine":2,"endColumn":29},{"ruleId":"84","severity":1,"message":"95","line":2,"column":31,"nodeType":"86","messageId":"87","endLine":2,"endColumn":45},{"ruleId":"84","severity":1,"message":"96","line":4,"column":8,"nodeType":"86","messageId":"87","endLine":4,"endColumn":16},{"ruleId":"84","severity":1,"message":"97","line":13,"column":8,"nodeType":"86","messageId":"87","endLine":13,"endColumn":18},{"ruleId":"84","severity":1,"message":"90","line":14,"column":10,"nodeType":"86","messageId":"87","endLine":14,"endColumn":23},{"ruleId":"84","severity":1,"message":"98","line":15,"column":10,"nodeType":"86","messageId":"87","endLine":15,"endColumn":24},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["101"],["99"],["100"],"no-unused-vars","'ForumIcon' is defined but never used.","Identifier","unusedVar","'DonutLargeIcon' is defined but never used.","'MoreHorizIcon' is defined but never used.","'animateScroll' is defined but never used.","'Avatar' is defined but never used.","'IconButton' is defined but never used.","'AttachFile' is defined but never used.","'MoreVert' is defined but never used.","'SearchOutlined' is defined but never used.","'ReactDOM' is defined but never used.","'moduleName' is defined but never used.","'scrollToBottom' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},"Update the dependencies array to be: [dispatch]",{"range":"104","text":"105"},[728,730],"[dispatch]"]